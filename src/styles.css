:root {
  color-scheme: dark;
  font-family: "Space Grotesk", "Avenir Next", "IBM Plex Sans", "Segoe UI", sans-serif;
  --panel-border: rgba(172, 213, 255, 0.38);
  --panel-bg-top: rgba(8, 22, 36, 0.9);
  --panel-bg-bottom: rgba(7, 13, 26, 0.82);
  --text-main: #e7f1ff;
  --text-subtle: #9eb5d2;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  margin: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background:
    radial-gradient(circle at 18% 8%, #2f5c92 0%, rgba(47, 92, 146, 0) 38%),
    radial-gradient(circle at 82% 12%, #6f4c1d 0%, rgba(111, 76, 29, 0) 34%),
    linear-gradient(170deg, #071123 0%, #04060f 100%);
}

body {
  color: var(--text-main);
}

.app-shell {
  position: relative;
  width: 100%;
  height: 100%;
  isolation: isolate;
}

.viewport-wrap {
  position: absolute;
  inset: 0;
  overflow: hidden;
}

.viewport-wrap::before {
  content: "";
  position: absolute;
  inset: -14%;
  pointer-events: none;
  background:
    radial-gradient(circle at 50% 16%, rgba(255, 205, 122, 0.22), rgba(255, 205, 122, 0) 46%),
    radial-gradient(circle at 50% 78%, rgba(22, 84, 136, 0.26), rgba(22, 84, 136, 0) 52%);
  mix-blend-mode: screen;
  animation: atmosphereDrift 17s ease-in-out infinite;
}

.terrain-canvas {
  width: 100%;
  height: 100%;
  display: block;
}

.cinematic-vignette {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 55% 44%, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0) 48%),
    radial-gradient(circle at center, rgba(4, 7, 12, 0) 44%, rgba(4, 7, 12, 0.72) 100%);
}

.panel-toggle {
  position: absolute;
  left: 16px;
  top: 16px;
  z-index: 12;
  border: 1px solid rgba(184, 218, 255, 0.5);
  background: linear-gradient(180deg, rgba(26, 66, 110, 0.92), rgba(16, 40, 69, 0.92));
  color: #eff6ff;
  border-radius: 999px;
  padding: 7px 14px;
  font-size: 0.76rem;
  letter-spacing: 0.03em;
  text-transform: uppercase;
  cursor: pointer;
  transition: transform 0.18s ease, filter 0.18s ease;
}

.panel-toggle:hover {
  filter: brightness(1.08);
  transform: translateY(-1px);
}

.panel-toggle:active {
  transform: translateY(0);
}

.control-panel {
  position: absolute;
  top: 58px;
  left: 16px;
  z-index: 11;
  width: min(360px, calc(100vw - 32px));
  max-height: calc(100vh - 74px);
  overflow-y: auto;
  padding: 16px;
  border-radius: 16px;
  border: 1px solid var(--panel-border);
  background: linear-gradient(170deg, var(--panel-bg-top), var(--panel-bg-bottom));
  backdrop-filter: blur(12px);
  box-shadow:
    0 18px 34px rgba(0, 0, 0, 0.38),
    inset 0 1px 0 rgba(255, 255, 255, 0.09);
  transition: width 0.24s ease, max-height 0.24s ease, padding 0.24s ease;
}

.control-panel.collapsed {
  width: min(294px, calc(100vw - 32px));
  max-height: 306px;
  padding: 14px;
}

h1 {
  margin: 0;
  font-size: 1.5rem;
  letter-spacing: 0.02em;
}

.subtitle {
  margin: 4px 0 14px;
  color: var(--text-subtle);
  font-size: 0.92rem;
}

.live-preview {
  margin-bottom: 14px;
  padding: 11px;
  border-radius: 12px;
  border: 1px solid rgba(153, 196, 243, 0.28);
  background:
    linear-gradient(170deg, rgba(13, 34, 56, 0.78), rgba(9, 20, 35, 0.62)),
    radial-gradient(circle at top right, rgba(89, 154, 230, 0.16), rgba(89, 154, 230, 0) 52%);
}

.preview-row {
  display: flex;
  flex-direction: column;
  gap: 5px;
  margin-bottom: 9px;
}

.preview-row:last-of-type {
  margin-bottom: 0;
}

.preview-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  font-size: 0.78rem;
  color: #c0d7f4;
}

.preview-header strong {
  font-size: 0.79rem;
  color: #eef6ff;
  font-weight: 600;
}

.preview-track {
  height: 8px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(16, 33, 55, 0.8);
  border: 1px solid rgba(144, 185, 229, 0.2);
}

.preview-track i {
  display: block;
  height: 100%;
  border-radius: inherit;
  background: linear-gradient(90deg, #2f9ae2, #56d5bf 52%, #f4c65f 100%);
  box-shadow: 0 0 10px rgba(86, 213, 191, 0.4);
  transition: width 0.18s ease;
}

.preview-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 9px;
}

.preview-meta span {
  font-size: 0.7rem;
  color: #cde2fb;
  letter-spacing: 0.02em;
  padding: 4px 7px;
  border-radius: 999px;
  border: 1px solid rgba(181, 215, 252, 0.23);
  background: rgba(8, 22, 37, 0.68);
}

.field,
.toggle,
.mode-selector,
.stats,
.legend {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 13px;
}

.field > span,
.legend > span {
  font-size: 0.86rem;
  color: #b9cfeb;
}

.inline-row {
  display: flex;
  gap: 8px;
}

input[type="text"] {
  width: 100%;
  min-width: 0;
  border: 1px solid rgba(168, 200, 239, 0.38);
  background: rgba(8, 15, 27, 0.87);
  border-radius: 9px;
  padding: 8px 10px;
  color: #e5f0ff;
}

input[type="range"] {
  width: 100%;
  accent-color: #56cfb8;
}

button {
  border: 1px solid rgba(160, 195, 237, 0.39);
  background: linear-gradient(180deg, #1b3e68, #123153);
  color: #e0eeff;
  border-radius: 9px;
  padding: 8px 10px;
  font-size: 0.82rem;
  cursor: pointer;
  transition: filter 0.16s ease;
}

button:hover {
  filter: brightness(1.07);
}

.toggle {
  flex-direction: row;
  align-items: center;
  gap: 10px;
  font-size: 0.88rem;
}

.mode-selector button {
  width: 100%;
  text-align: left;
}

.mode-selector .active {
  background: linear-gradient(180deg, #2a5b8f, #1a426a);
  border-color: rgba(198, 227, 255, 0.74);
}

.stats {
  font-size: 0.85rem;
  padding: 9px;
  border-radius: 9px;
  background: rgba(8, 17, 31, 0.73);
  border: 1px solid rgba(140, 180, 232, 0.26);
}

.instructions {
  color: #9cb6d8;
  line-height: 1.35;
}

.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.chip {
  font-style: normal;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 0.74rem;
  border: 1px solid rgba(240, 246, 255, 0.26);
}

.ocean {
  background: rgba(18, 82, 152, 0.58);
}

.beach {
  background: rgba(212, 176, 94, 0.52);
}

.grass {
  background: rgba(80, 173, 84, 0.5);
}

.forest {
  background: rgba(33, 94, 47, 0.62);
}

.snow {
  background: rgba(215, 226, 242, 0.66);
  color: #0f1e33;
}

@keyframes atmosphereDrift {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }

  50% {
    transform: translate3d(-2%, 1.8%, 0) scale(1.045);
  }
}

@media (max-width: 900px) {
  .panel-toggle {
    left: 12px;
    top: 12px;
  }

  .control-panel {
    left: 12px;
    top: 54px;
    width: calc(100vw - 24px);
    max-height: min(74vh, calc(100vh - 66px));
  }

  .control-panel.collapsed {
    width: calc(100vw - 24px);
    max-height: 290px;
  }
}
